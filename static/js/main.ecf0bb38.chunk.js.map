{"version":3,"sources":["util.ts","components/DrinkCard.tsx","api.ts","components/Search.tsx","App.tsx","index.tsx"],"names":["ingredientsFromDrink","drink","ingredients","i","ingredient","push","split","map","s","toUpperCase","slice","capitalizeString","join","useStyles","makeStyles","root","height","image","DrinkCard","classes","Card","className","strDrinkThumb","CardMedia","CardContent","Typography","variant","strDrink","idx","idDrink","headers","baseURL","process","withCors","url","gridContainer","flexGrow","gridItem","searchbar","marginTop","marginBottom","width","Search","largerThan600","useMediaQuery","queryRef","useRef","useState","drinks","setDrinks","setPopularDrinks","axios","then","res","data","console","log","catch","err","error","useEffect","TextField","label","onChange","e","name","newText","target","value","current","Grid","container","direction","justifyContent","alignItems","spacing","item","xs","sm","md","lg","style","App","Container","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ecf0bb38.chunk.js","sourcesContent":["import { Drink } from \"./interfaces\";\r\n\r\nexport const capitalizeString = (s: string): string =>\r\n  (s && s[0].toUpperCase() + s.slice(1)) || \"\";\r\n\r\nexport const capitalizeEveryWord = (s: string): string =>\r\n  s\r\n    .split(\" \")\r\n    .map((s) => capitalizeString(s))\r\n    .join(\" \");\r\n\r\nexport const ingredientsFromDrink = (drink: Drink): string[] => {\r\n  let ingredients: string[] = [];\r\n  for (let i = 1; i < 16; i++) {\r\n    let ingredient = drink[`strIngredient${i}` as keyof Drink];\r\n    if (ingredient) {\r\n      ingredients.push(capitalizeEveryWord(ingredient));\r\n    }\r\n  }\r\n\r\n  return ingredients;\r\n};\r\n","import { Card, CardContent, CardMedia, Typography } from \"@material-ui/core\";\r\nimport { ReactElement } from \"react\";\r\nimport { Drink } from \"../interfaces\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { ingredientsFromDrink } from \"../util\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: { height: \"100%\" },\r\n  image: {\r\n    height: \"30vh\",\r\n  },\r\n});\r\n\r\nconst DrinkCard = ({ drink }: { drink: Drink }): ReactElement => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      {drink.strDrinkThumb && (\r\n        <CardMedia image={drink.strDrinkThumb} className={classes.image} />\r\n      )}\r\n\r\n      <CardContent>\r\n        <Typography variant=\"h6\">{drink.strDrink}</Typography>\r\n        {/* <Typography variant=\"h6\">{drink.strDrinkThumb}</Typography> */}\r\n\r\n        {ingredientsFromDrink(drink).map((ingredient, idx) => (\r\n          <Typography variant=\"body1\" key={idx}>\r\n            {ingredient}\r\n          </Typography>\r\n        ))}\r\n\r\n        <Typography variant=\"body1\">{drink.idDrink}</Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default DrinkCard;\r\n","import axios from \"axios\";\r\n\r\nconst headers = {\r\n  \"Access-Control-Allow-Origin\": \"*\",\r\n};\r\n\r\nconst baseURL = `www.thecocktaildb.com/api/json/v2/${process.env.REACT_APP_API_KEY}`;\r\n\r\nexport const withCors = (url: string): string => {\r\n  return process.env.REACT_APP_CORS_PROXY_URL + url;\r\n};\r\n\r\nexport const searchDrinkByName = (name: string) => {\r\n  return axios(withCors(`${baseURL}/search.php?s=${name}`), { headers });\r\n};\r\n\r\nexport const searchDrinkByFirstLetter = (letter: string) => {\r\n  return axios(withCors(`${baseURL}/search.php?f=${letter}`), { headers });\r\n};\r\n\r\nexport const getPopularDrinks = () => {\r\n  return axios(withCors(`${baseURL}/popular.php`), { headers });\r\n};\r\n\r\nexport const getDrinkByID = (id: string) => {\r\n  return axios(withCors(`${baseURL}/lookup.php?i=${id}`), { headers });\r\n};\r\n\r\nexport const searchIngredientByName = (name: string) => {\r\n  return axios(withCors(`${baseURL}/search.php?i=${name}`), { headers });\r\n};\r\n","import { useEffect, useState, useRef } from \"react\";\r\nimport { Drink } from \"../interfaces\";\r\nimport DrinkCard from \"./DrinkCard\";\r\nimport { getPopularDrinks, searchDrinkByName } from \"../api\";\r\nimport { Grid, TextField } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nconst useStyles = makeStyles({\r\n  gridContainer: { flexGrow: 1 },\r\n  gridItem: {},\r\n  searchbar: { marginTop: \"2vh\", marginBottom: \"2vh\", width: \"100%\" },\r\n});\r\n\r\nconst Search = () => {\r\n  const classes = useStyles();\r\n  const largerThan600 = useMediaQuery(\"(min-width:600px)\");\r\n\r\n  const queryRef = useRef(\"\");\r\n  const [drinks, setDrinks] = useState<Drink[] | null>(null);\r\n\r\n  const setPopularDrinks = () => {\r\n    getPopularDrinks()\r\n      .then((res) => {\r\n        let drinks = res.data.drinks;\r\n        setDrinks(drinks);\r\n        console.log(drinks);\r\n      })\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  const onChangeHandler = (e: object & { target: { value: string } }) => {\r\n    const newText = e.target.value;\r\n    queryRef.current = newText;\r\n\r\n    if (newText === \"\") {\r\n      setPopularDrinks();\r\n    } else {\r\n      searchDrinkByName(newText)\r\n        .then((res) => {\r\n          if (queryRef.current === newText) {\r\n            let drinks = res.data.drinks;\r\n            if (drinks) {\r\n              setDrinks(drinks);\r\n            }\r\n          }\r\n        })\r\n        .catch((err) => console.error(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!drinks) {\r\n      setPopularDrinks();\r\n    }\r\n  }, [drinks]);\r\n\r\n  return (\r\n    <>\r\n      <TextField\r\n        className={classes.searchbar}\r\n        label=\"Search for a drink\"\r\n        variant=\"outlined\"\r\n        onChange={onChangeHandler}\r\n      />\r\n      {!drinks && <p>loading</p>}\r\n      {drinks && (\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"flex-start\"\r\n          alignItems=\"center\"\r\n          spacing={2}\r\n          className={classes.gridContainer}\r\n        >\r\n          {drinks.map((drink: Drink) => (\r\n            <Grid\r\n              item\r\n              key={drink.idDrink}\r\n              xs={12}\r\n              sm={6}\r\n              md={4}\r\n              lg={3}\r\n              className={classes.gridItem}\r\n              style={{ height: largerThan600 ? \"60vh\" : \"\" }}\r\n            >\r\n              <DrinkCard drink={drink} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { Container } from \"@material-ui/core\";\nimport Search from \"./components/Search\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Container>\n        <Search />\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}